!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.id=t,this.sectionName=t.split("-")[0],this.sectionElem=document.querySelector(`#${this.sectionName}`),this.parent=document.querySelector(`#${t}`),this.textElem=document.querySelector(`#${this.sectionName}-text`),this.lineElem=document.querySelector(`#${this.sectionName}-line`),this.lineWidth=Number(this.lineElem.getAttribute("width")),this.textX=Number(this.textElem.getAttribute("x")),this.fill=this.lineElem.getAttribute("fill"),this.origAttributes={lineWidth:this.lineWidth,textX:this.textX},this.animationID=void 0,this.selected=!1}reset(){this.lineWidth=this.origAttributes.lineWidth,this.textX=this.origAttributes.textX,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.textElem.setAttribute("fill","#000")}moveOut(){this.lineWidth+=1,this.textX+=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth>this.origAttributes.lineWidth+8||(this.animationID=window.requestAnimationFrame(this.moveOut.bind(this)))}moveIn(){this.lineWidth-=1,this.textX-=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth<=this.origAttributes.lineWidth||(this.animationID=window.requestAnimationFrame(this.moveIn.bind(this)))}handleMouseEnter(){this.selected||(this.textElem.setAttribute("fill",this.fill),window.requestAnimationFrame(this.moveOut.bind(this)))}handleMouseLeave(){this.selected||(window.cancelAnimationFrame(this.animationID),this.animationID=void 0,this.textElem.setAttribute("fill","#000"),window.requestAnimationFrame(this.moveIn.bind(this)))}setAnimations(){this.parent.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),this.parent.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}}function n(t){let e=window.location.hash;e||(e="#homepage");const i=e.slice(1);return document.querySelectorAll("section").forEach(t=>{t.classList.contains("hidden")&&t.id!==i||function(t){t.classList.contains("hidden")?(o(t,.05,0,1),t.classList.remove("hidden")):t.classList.add("hidden")}(t)}),i}function o(t,e,i,s,n=!1){let o=i;t.style.opacity=o;const r=i=>{o+=e,t.style.opacity=o,-1===Math.sign(e)&&o<=s||1===Math.sign(e)&&o>=s?n&&document.body.removeChild(t):window.requestAnimationFrame(r)};window.requestAnimationFrame(r)}function r(t,e,i){const s=document.querySelector("#img-gallery-viewer");s.querySelector("img")&&function(t){const e=document.querySelector(`${t.nodeName} > .big-img-overlay`);t.removeChild(e);const i=document.querySelector(`${t.nodeName} > .big-img`);t.removeChild(i)}(s);const n=t=>{r.src=r.src.replace(/(\d+).(jpg|png)/,`${t}.$2`)},r=function(t,e){const i=document.createElement("div");i.classList.add("big-img-overlay"),t.appendChild(i);const s=e.target.src,n=document.createElement("img");return n.classList.add("big-img"),n.src=s,t.appendChild(n),o(n,.08,0,1),o(i,.08,0,1),[n,i]}(t,e)[0];r.addEventListener("click",t=>{const e=(t=>Number(t.target.src.match(/(\d+).(jpg|png)/)[1]))(t),s=window.innerWidth/2;t.clientX>s&&e<i?n(e+1):t.clientX<s&&e>1?n(e-1):history.back()})}function c(t,e){return`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${e}"%3E%3C/svg%3E`}function l(t,e){if("IntersectionObserver"in window){const i=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){const e=t.target;e.src=e.dataset.src,i.unobserve(e)}})},e);t.forEach(t=>i.observe(t))}else t.forEach(t=>t.src=t.dataset.src)}const a=new s("about-item");a.setAnimations();const d=new s("comic-item");d.setAnimations();const h=new s("illustration-item");h.setAnimations();const m=new class{constructor(...t){this.header=document.querySelector("body > header"),this.menuItems={},t.forEach(t=>this.menuItems[t.sectionName]=t),this.selectedItem=null}reset(){this.selectedItem&&(this.selectedItem.selected=!1,this.selectedItem=null),Object.values(this.menuItems).forEach(t=>t.reset()),this.header.classList.toggle("to-left")}handleClick(t){this.header.classList.toggle("to-left");const e=t.currentTarget.id.split("-")[0],i=this.menuItems[e];if(this.selectedItem){if(this.selectedItem.sectionName===i.sectionName)return;this.selectedItem.selected=!1,this.selectedItem.handleMouseLeave()}this.selectedItem=i,this.selectedItem.selected=!0,window.cancelAnimationFrame(this.selectedItem.animationID),this.selectedItem.animationID=void 0,this.selectedItem.handleMouseEnter()}setAnimations(){Object.values(this.menuItems).forEach(t=>t.parent.addEventListener("click",this.handleClick.bind(this)))}}(a,d,h);m.setAnimations();const u=document.querySelectorAll("#illustration-article img[data-src]"),f=document.querySelectorAll("#vermin-comic img[data-src]");u.forEach(t=>t.src=c(400,400)),f.forEach(t=>t.src=c(600,800));const g={root:document.querySelector("#illustration-article"),rootMargin:"0px 0px 100px 0px"},b={root:document.querySelector("#vermin-comic"),rootMargin:"0px 0px 100px 0px"};l(u,g),l(f,b);const v=document.querySelector(".close-btn");v.addEventListener("click",t=>{m.header.classList.add("to-left")}),document.querySelectorAll(".menu-btn").forEach(t=>t.addEventListener("click",t=>{v.style.display="block",m.header.classList.remove("to-left")})),document.querySelectorAll("#illustration img, .comic-pages img").forEach(t=>{const e=document.querySelector("#img-gallery-viewer");t.addEventListener("click",i=>{window.location.hash="#img-gallery-viewer";let s=1;t.src.search(/illustrations/)>-1?s=14:t.src.search(/vermin/)>-1&&(s=12),r(e,i,s),o(document.querySelector(".instructions"),-.008,1,.001)})}),window.addEventListener("hashchange",t=>{m.header.classList.contains("to-left")||m.header.classList.add("to-left"),"homepage"===n()&&(v.style.display="none",m.reset())}),window.onload=(t=>history.pushState("",document.title,window.location.pathname))}]);