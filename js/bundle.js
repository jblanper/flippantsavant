!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(e){this.id=e,this.sectionName=e.split("-")[0],this.sectionElem=document.querySelector(`#${this.sectionName}`),this.parent=document.querySelector(`#${e}`),this.textElem=document.querySelector(`#${this.sectionName}-text`),this.lineElem=document.querySelector(`#${this.sectionName}-line`),this.lineWidth=Number(this.lineElem.getAttribute("width")),this.textX=Number(this.textElem.getAttribute("x")),this.fill=this.lineElem.getAttribute("fill"),this.origAttributes={lineWidth:this.lineWidth,textX:this.textX},this.animationID=void 0,this.selected=!1}reset(){this.lineWidth=this.origAttributes.lineWidth,this.textX=this.origAttributes.textX,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.textElem.setAttribute("fill","#000")}moveOut(){this.lineWidth+=1,this.textX+=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth>this.origAttributes.lineWidth+8||(this.animationID=window.requestAnimationFrame(this.moveOut.bind(this)))}moveIn(){this.lineWidth-=1,this.textX-=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth<=this.origAttributes.lineWidth||(this.animationID=window.requestAnimationFrame(this.moveIn.bind(this)))}handleMouseEnter(){this.selected||(this.textElem.setAttribute("fill",this.fill),window.requestAnimationFrame(this.moveOut.bind(this)))}handleMouseLeave(){this.selected||(window.cancelAnimationFrame(this.animationID),this.animationID=void 0,this.textElem.setAttribute("fill","#000"),window.requestAnimationFrame(this.moveIn.bind(this)))}setAnimations(){this.parent.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),this.parent.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}}function s(e){let t=window.location.hash;t||(t="#homepage");const i=t.slice(1);return document.querySelectorAll("section").forEach(e=>{e.classList.contains("hidden")&&e.id!==i||function(e){e.classList.contains("hidden")?(r(e,.05,0,1),e.classList.remove("hidden")):(r(e,-.05,1,.001),e.classList.add("hidden"))}(e)}),i}function r(e,t,i,n,s=!1){let r=i;e.style.opacity=r;const o=i=>{r+=t,e.style.opacity=r,-1===Math.sign(t)&&r<=n||1===Math.sign(t)&&r>=n?s&&document.body.removeChild(e):window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}function o(e,t,i){const n=document.querySelector("#img-gallery-viewer"),s=(e,t)=>t.replace(/(\d+).(jpg|png)/,`${e}.$2`),o=e=>Number(e.match(/(\d+).(jpg|png)/)[1]),c=e=>{const t=document.querySelector(".big-img"),i=o(t.src);i>1?t.src=s(i-1,t.src):history.back()},l=e=>{const t=document.querySelector(".big-img"),i=o(t.src);i<t.dataset.imgNumber?t.src=s(i+1,t.src):history.back()},a=e=>history.back();n.querySelector("img")?function(e){const t=document.querySelector(`${e.nodeName} > .big-img-overlay`);e.removeChild(t);const i=document.querySelector(`${e.nodeName} > .big-img`);e.removeChild(i)}(n):(document.querySelector("#left-btn").addEventListener("click",c),document.querySelector("#right-btn").addEventListener("click",l),document.querySelector("#exit-btn").addEventListener("click",a),document.addEventListener("keyup",e=>{"ArrowRight"===e.key&&l(),"ArrowLeft"===e.key&&c(),"Escape"===e.key&&a()}),function(e,t,i=document.body){let n=0,s=0;i.addEventListener("touchstart",e=>{n=e.changedTouches[0].screenX}),i.addEventListener("touchend",i=>{s=i.changedTouches[0].screenX,Math.abs(n-s)<40||(n>s?t():n<s&&e())})}(c,l,n));const d=function(e,t){const i=document.createElement("div");i.classList.add("big-img-overlay"),e.appendChild(i);const n=t.target.src,s=document.createElement("img");return s.classList.add("big-img"),s.src=n,e.appendChild(s),r(s,.08,0,1),r(i,.08,0,1),[s,i]}(e,t)[0];d.dataset.imgNumber=i,d.addEventListener("click",e=>{const t=o(e.target.src),n=window.innerWidth/2;e.clientX>n&&t<i?d.src=s(t+1,d.src):e.clientX<n&&t>1&&(d.src=s(t-1,d.src))})}function c(e,t){return`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${e} ${t}"%3E%3C/svg%3E`}function l(e,t){if("IntersectionObserver"in window){const i=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.src=t.dataset.src,i.unobserve(t)}})},t);e.forEach(e=>i.observe(e))}else e.forEach(e=>e.src=e.dataset.src)}const a=new n("about-item");a.setAnimations();const d=new n("comic-item");d.setAnimations();const h=new n("illustration-item");h.setAnimations();const m=new class{constructor(...e){this.header=document.querySelector("body > header"),this.menuItems={},e.forEach(e=>this.menuItems[e.sectionName]=e),this.selectedItem=null}reset(){this.selectedItem&&(this.selectedItem.selected=!1,this.selectedItem=null),Object.values(this.menuItems).forEach(e=>e.reset()),this.header.classList.toggle("to-left")}handleClick(e){this.header.classList.toggle("to-left");const t=e.currentTarget.id.split("-")[0],i=this.menuItems[t];if(this.selectedItem){if(this.selectedItem.sectionName===i.sectionName)return;this.selectedItem.selected=!1,this.selectedItem.handleMouseLeave()}this.selectedItem=i,this.selectedItem.selected=!0,window.cancelAnimationFrame(this.selectedItem.animationID),this.selectedItem.animationID=void 0,this.selectedItem.handleMouseEnter()}setAnimations(){Object.values(this.menuItems).forEach(e=>e.parent.addEventListener("click",this.handleClick.bind(this)))}}(a,d,h);m.setAnimations();const u=document.querySelectorAll("#illustration-article img[data-src]"),g=document.querySelectorAll("#vermin-comic img[data-src]");u.forEach(e=>e.src=c(400,400)),g.forEach(e=>e.src=c(600,800));const b={root:document.querySelector("#illustration-article"),rootMargin:"0px 0px 100px 0px"},f={root:document.querySelector("#vermin-comic"),rootMargin:"0px 0px 100px 0px"};l(u,b),l(g,f);const v=document.querySelector(".close-btn");v.addEventListener("click",e=>{m.header.classList.add("to-left")}),document.querySelectorAll(".menu-btn").forEach(e=>e.addEventListener("click",e=>{v.style.display="block",m.header.classList.remove("to-left")})),document.querySelectorAll("#illustration img, .comic-pages img").forEach(e=>{const t=document.querySelector("#img-gallery-viewer");e.addEventListener("click",i=>{window.location.hash="#img-gallery-viewer";let n=1;e.src.search(/illustrations/)>-1?n=14:e.src.search(/vermin/)>-1&&(n=12),o(t,i,n)})}),window.addEventListener("hashchange",e=>{m.header.classList.contains("to-left")||m.header.classList.add("to-left"),"homepage"===s()&&(v.style.display="none",m.reset())}),window.onload=(e=>history.pushState("",document.title,window.location.pathname))}]);