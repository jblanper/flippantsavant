!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(e){this.id=e,this.sectionName=e.split("-")[0],this.sectionElem=document.querySelector(`#${this.sectionName}`),this.parent=document.querySelector(`#${e}`),this.textElem=document.querySelector(`#${this.sectionName}-text`),this.lineElem=document.querySelector(`#${this.sectionName}-line`),this.lineWidth=Number(this.lineElem.getAttribute("width")),this.textX=Number(this.textElem.getAttribute("x")),this.fill=this.lineElem.getAttribute("fill"),this.origAttributes={lineWidth:this.lineWidth,textX:this.textX},this.animationID=void 0,this.selected=!1}reset(){this.lineWidth=this.origAttributes.lineWidth,this.textX=this.origAttributes.textX,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.textElem.setAttribute("fill","#000")}moveOut(){this.lineWidth+=1,this.textX+=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth>this.origAttributes.lineWidth+8||(this.animationID=window.requestAnimationFrame(this.moveOut.bind(this)))}moveIn(){this.lineWidth-=1,this.textX-=1,this.lineElem.setAttribute("width",this.lineWidth),this.textElem.setAttribute("x",this.textX),this.lineWidth<=this.origAttributes.lineWidth||(this.animationID=window.requestAnimationFrame(this.moveIn.bind(this)))}handleMouseEnter(){this.selected||(this.textElem.setAttribute("fill",this.fill),window.requestAnimationFrame(this.moveOut.bind(this)))}handleMouseLeave(){this.selected||(window.cancelAnimationFrame(this.animationID),this.animationID=void 0,this.textElem.setAttribute("fill","#000"),window.requestAnimationFrame(this.moveIn.bind(this)))}setAnimations(){this.parent.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),this.parent.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}}function s(e,t,i,n,s=!1){let o=i;e.style.opacity=o;const r=i=>{o+=t,e.style.opacity=o,-1===Math.sign(t)&&o<=n||1===Math.sign(t)&&o>=n?s&&document.body.removeChild(e):window.requestAnimationFrame(r)};window.requestAnimationFrame(r)}function o(e,t){const i=document.createElement("div");i.classList.add("big-img-overlay"),e.appendChild(i);const n=t.target.src,o=document.createElement("img");return o.classList.add("big-img"),o.src=n,e.appendChild(o),s(i,.08,0,.5),s(o,.08,0,1),[o,i]}function r(e){const t=document.querySelector(`${e.nodeName} > .big-img-overlay`);e.removeChild(t);const i=document.querySelector(`${e.nodeName} > .big-img`);e.removeChild(i)}function c(e,t){return`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${e} ${t}"%3E%3C/svg%3E`}function l(e,t){if("IntersectionObserver"in window){const i=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.src=t.dataset.src,i.unobserve(t)}})},t);e.forEach(e=>i.observe(e))}else e.forEach(e=>e.src=e.dataset.src)}const a=new n("about-item");a.setAnimations();const d=new n("comic-item");d.setAnimations();const m=new n("illustration-item");m.setAnimations();const h=new class{constructor(...e){this.homepageElem=document.querySelector("#homepage"),this.header=document.querySelector("body > header"),this.menuItems={},e.forEach(e=>this.menuItems[e.sectionName]=e),this.selectedItem=null}reset(){this.selectedItem&&(this.selectedItem.selected=!1,this.selectedItem=null),Object.values(this.menuItems).forEach(e=>e.reset()),this.header.classList.toggle("to-left")}handleClick(e){this.header.classList.toggle("to-left");const t=e.currentTarget.id.split("-")[0],i=this.menuItems[t];if(this.selectedItem){if(this.selectedItem.sectionName===i.sectionName)return;this.selectedItem.selected=!1,this.selectedItem.handleMouseLeave()}this.selectedItem=i,this.selectedItem.selected=!0,window.cancelAnimationFrame(this.selectedItem.animationID),this.selectedItem.animationID=void 0,this.selectedItem.handleMouseEnter()}setAnimations(){Object.values(this.menuItems).forEach(e=>e.parent.addEventListener("click",this.handleClick.bind(this)))}}(a,d,m);h.setAnimations();const u=document.querySelectorAll("#illustration-article img[data-src]"),f=document.querySelectorAll("#vermin-comic img[data-src]");u.forEach(e=>e.src=c(400,400)),f.forEach(e=>e.src=c(600,800));const g={root:document.querySelector("#illustration-article"),rootMargin:"0px 0px 100px 0px"},v={root:document.querySelector("#vermin-comic"),rootMargin:"0px 0px 100px 0px"};l(u,g),l(f,v),window.addEventListener("hashchange",function(e){const t=window.location.hash.slice(1);"homepage"===t&&(document.querySelector("#main-header .close-btn").style.display="none");document.querySelectorAll("section").forEach(e=>{e.classList.contains("hidden")&&e.id!==t||function(e){e.classList.contains("hidden")?(s(e,.05,0,1),e.classList.remove("hidden")):e.classList.add("hidden")}(e)})});const b=document.querySelector(".close-btn");b.addEventListener("click",e=>{h.header.classList.add("to-left")}),document.querySelectorAll(".small-logo").forEach(e=>e.addEventListener("click",e=>{b.style.display="none",h.reset()})),document.querySelectorAll(".menu-btn").forEach(e=>e.addEventListener("click",e=>{b.style.display="block",h.header.classList.remove("to-left")})),document.querySelectorAll("#illustration img, #predator-comic img, #alien-comic img").forEach(e=>e.addEventListener("click",e=>(function(e,t){const[i,n]=o(e,t),c=document.createElement("div");c.classList.add("instructions");const l=document.createElement("p");l.innerHTML="click to exit",e.appendChild(c),c.appendChild(l),s(c,-.01,1,.001,!0),i.addEventListener("click",t=>r(e)),n.addEventListener("click",t=>r(e))})(document.body,e))),window.onload=(e=>history.pushState("",document.title,window.location.pathname)),document.querySelectorAll("#vermin-comic img").forEach(e=>{const t=document.querySelector("#img-gallery-viewer");e.addEventListener("click",e=>{window.location.hash="#img-gallery-viewer",function(e,t,i){let n=e.querySelector("img");const s=e=>{n.src=n.src.replace(/\d+.jpg/,`${e}.jpg`)};n?s(1):(n=o(e,t)[0],document.querySelector("#img-gallery-viewer").addEventListener("click",e=>{const t=Number(n.src.match(/(\d+).jpg/)[1]),o=window.innerWidth/2;e.clientX>o&&t<i?s(t+1):e.clientX<o&&t>1&&s(t-1)}))}(t,e,12),s(document.querySelector(".instructions"),-.008,1,.001)})})}]);